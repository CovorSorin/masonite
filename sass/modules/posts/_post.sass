.post
  margin: 0 $gutter $gutter 0
  position: relative

  .js.no-touch &
    &:hover
      .fullsize
        display: block
      .reblog,
      .like
        visibility: visible
        opacity: 1
        -webkit-transition-delay: 0s

  .header-left &
    margin-right: 0
    margin-left: $gutter

  .index &
    z-index: 0
    float: left
    width: 400px
    overflow-x: hidden
    .quote
      line-height: 1.5
      &.short
        font-size: 24px
      &.medium,
      &.long
        font-size: 18px

  .permalink &
    width: 500px
    .copy
      margin-top: 20px
    .title
      font-size: 24px
    .quote
      font-size: 36px
      line-height: 40px

  a,
  a.title strong
    +transition(color 0.2s linear, border 0.2s linear)
    @extend %border-bottom
  blockquote
    +transition-property(color)
    +transition-duration(0.2s)
    +transition-timing-function(linear)
  img
    +border-radius(2px)
  menu,
  ol,
  ul
    padding: 0 0 0 20px

  .title
    font-size: 18px
    font-weight: bold
    line-height: 1.3

  .media
    position: relative
    a
      border: none

  .copy img
    max-width: 100%
    height: auto

  // chat
  &.chat
    .line
      margin: 0 0 10px 0
      padding-bottom: 10px
      @extend %border-bottom

  // video
  &.video
    object
      @extend %full-width
      +border-radius(2px)

  // photo
  &.photo .media img,
  &.audio .album_art img
    @extend %full-width

  // audio
  &.audio
    object,
    embed
      +border-radius(2px)
    .meta
      font-size: $small-type
      top: 5px
      left: 250px
      right: 0
      text-align: right
      position: absolute
  
  // answer
  &.answer
    &:hover .question:after
      border-top-width: 8px
      border-top-style: solid
    .question
      font-weight: normal
      padding: 10px
      position: relative
      +transition-duration(0.2s)
      +transition-timing-function(linear)
      +border-radius(2px)
      &:after
        content: " "
        width: 0
        height: 0
        position: absolute
        left: 10px
        bottom: -8px
        display: block
        border-right-width: 8px
        border-top-width: 8px
        border-right-style: solid
        border-top-style: solid
        +transition-duration(0.2s)
        +transition-timing-function(linear)
    .asker
      .index.width-400 &
        font-size: 12px
      img
        margin: 0 10px

  // font sizes
  .index.width-400 &
    font-size: 12px

  // 500px posts
  .index.width-500 &
    width: 500px

  // links to hires media
  .fullsize
    $fullsize-width: 48px
    $fullsize-height: $fullsize-width
    position: absolute
    display: block
    opacity: .8
    top: 50%
    left: 50%
    width: $fullsize-width
    height: $fullsize-height
    margin-top: - ($fullsize-height / 2)
    margin-left: - ($fullsize-width / 2)
    +border-radius($fullsize-width / 2)
    +transition-duration(0.2s)
    +transition-timing-function(linear)
    span
      display: block
      text-indent: 100%
      white-space: nowrap
      overflow: hidden
    .js &
      display: none
    &:hover
      opacity: 1
      box-shadow: 0px 0px 48px #fff
      .dog-ear-zoom-icon &
        box-shadow: none
        background-color: transparent
    &:before
      content: "\e006"
      display: block
      width: $fullsize-width
      height: $fullsize-height
      line-height: $fullsize-height
      font-size: 28px
      text-align: center
      .dog-ear-zoom-icon &
        position: relative
        width: 28px
        height: 28px
        line-height: 16px
        font-size: 16px
        text-align: right
        z-index: 10
    .dog-ear-zoom-icon &
      top: 0
      left: auto
      right: 0
      width: 28px
      height: 28px
      margin-top: 0
      margin-left: 0
      +border-radius(2px)
      opacity: 1
      background-color: transparent

  .footer
    font-size: 12px
    margin-top: 10px
    padding-top: 5px
    padding-bottom: 5px
    @extend %clearfix
    @extend %border-bottom
    .index &
      font-size: $very-small-type
    .permalink &
      margin-top: 35px
      margin-bottom: 20px
      border: 0
    .hide-post-footer-border.index &
      border: 0
      padding-bottom: 0
    .date a,
    .comments a,
    .notes a
      display: block
    .date a
      padding-left: 0
      float: left
    .reblog,
    .like
      float: right
      margin-right: 0
      margin-left: 10px
      -webkit-transition: visibility 0s linear 0.2s, opacity 0.2s linear
      .js.no-touch &
        visibility: hidden
        opacity: 0
      a.liked:before
        color: red
    .like
      position: relative
      display: inline-block
      width: 10px
      height: 21px
      cursor: pointer
    .like_button
      position: absolute
      top: 0
      left: 0
      right: 0
      bottom: 0
      z-index: 10
    .like_button
      opacity: 0
    .date span.reblogged-from
      float: left
      display: block
      padding-left: 4px
      a
        padding-left: 0
        display: inline
        float: none
        background: none !important
    a
      font-weight: normal
      border: none
    .tags
      display: block
      clear: both
      margin: 0
      @extend %clearfix
      dd
        float: left
        margin-left: 8px
    ul,
    ol
      list-style: none
      margin: 0
      padding: 0
      @extend %clearfix
    li
      margin-right: 10px
      float: left
    .date.reblogged a:before
      content: "\e046"
    .custom-like-button:before,
    .notes a:before
      content: "\e03f"
    .comments a:before
      content: "\e002"
    .tags:before
      content: "\e044"
      margin-right: 0
      float: left
      display: block
    .date a:before
      content: "\e03d"

    .date .reblogged-from a:before
      content: "" !important
      margin-right: 0 !important

    .custom-like-button
      position: absolute
      top: 0
      left: 0
      right: 0
      bottom: 0
      width: 100%
      height: 100%
      z-index: 1
      text-align: center
      font-size: 10px
      line-height: 21px

.dog-ear-zoom-icon
  .post.photo .media .fullsize
    &:after
      content: ' '
      width: 0
      height: 0
      position: absolute
      right: 0
      top: 0
      border-bottom-width: 28px
      border-right-width: 28px
      border-bottom-style: solid
      border-right-style: solid
      z-index: 0
      +transition-duration(0.2s)
      +transition-timing-function(linear)
    &:hover:after
      border-bottom-width: 28px
      border-right-width: 28px

.audio-wrapper
  position: relative
  margin-top: 10px
